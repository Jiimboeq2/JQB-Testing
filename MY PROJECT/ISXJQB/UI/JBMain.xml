<?xml version="1.0" encoding="UTF-8" ?>
<ISUI>
    <!-- Main Configuration Window -->
    <Window Name='JB_Main_Window' Template='Window'>
        <X>20</X>
        <Y>20</Y>
        <Width>1120</Width>
        <Height>800</Height>
        <StorePosition>1</StorePosition>
        <Visible>0</Visible>
        <Title>JB - Bot System</Title>
        <OnLoad>
            declarevariable JBUI_Main_Window int global ${This.ID}
            declarevariable _sJB_CurrentMode string global
            _sJB_CurrentMode:Set[Instances]
        </OnLoad>
        <TitleBar Template="Window.TitleBar">
            <X>0</X>
            <Y>0</Y>
            <Width>100%</Width>
            <Height>18</Height>
            <Children>
                <Text Name="Title" Template="Window.TitleBar.Title">
                    <Alignment>Left</Alignment>
                </Text>
                <CommandButton Name="Minimize_Button" Template="Window.TitleBar.Close">
                    <X>r32</X>
                    <Y>0</Y>
                    <Width>13</Width>
                    <Height>13</Height>
                    <Text>_</Text>
                    <OnLeftClick>
                        UIElement[${JBUI_Main_Window}]:ToggleVisible
                    </OnLeftClick>
                    <OnLoad>
                        This.Font:SetColor[FFFFFF00]
                    </OnLoad>
                </CommandButton>
                <CommandButton Name="Close_Button" Template="Window.TitleBar.Close">
                    <X>r16</X>
                    <Y>0</Y>
                    <Width>13</Width>
                    <Height>13</Height>
                </CommandButton>
            </Children>
        </TitleBar>
        <Children>
            <!-- Main Window Background Frame -->
            <frame name='Main_Window_Background'>
                <X>0</X>
                <Y>0</Y>
                <Width>100%</Width>
                <Height>100%</Height>
                <Strata>-100</Strata>
                <Border>2</Border>
                <OnLoad>
                    This:SetBackgroundColor[FF0f0f0f]
                    This:SetBorderColor[FF3f3f3f]
                </OnLoad>
                <Children>
                    <Text name='bg_dummy'><X>0</X><Y>0</Y><Width>1</Width><Height>1</Height><Visible>0</Visible></Text>
                </Children>
            </frame>
            <!-- Left Panel - Mode Selection -->
            <frame name='ModeSelection_Frame'>
                <X>0</X>
                <Y>0</Y>
                <Height>100%</Height>
                <Width>160</Width>
                <Visible>1</Visible>
                <Border>2</Border>
                <OnLoad>
                    declarevariable JBUI_ModeSelection_Frame int global ${This.ID}
                </OnLoad>
                <Children>
                    <Text name='ModeSelection_Title'>
                        <X>5</X>
                        <Y>5</Y>
                        <Width>150</Width>
                        <Height>20</Height>
                        <Alignment>Center</Alignment>
                        <Font>
                            <Bold>1</Bold>
                            <Size>12</Size>
                        </Font>
                        <Text>Mode Selection</Text>
                        <OnLoad>
                            This.Font:SetColor[FFFF9933]
                        </OnLoad>
                    </Text>
                    
                    <CommandButton Name="Mode_Instances_Button">
                        <X>10</X>
                        <Y>30</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Instances</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Instances_Frame}]:Show
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Instances]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Instances_Button int global ${This.ID}
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FF00FF00]
                        </OnLoad>
                    </CommandButton>
                    
                    <CommandButton Name="Mode_Tasks_Button">
                        <X>10</X>
                        <Y>60</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Tasks/Quests</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Tasks_Frame}]:Show
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Tasks]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Tasks_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>
                    
                    <CommandButton Name="Mode_Queues_Button">
                        <X>10</X>
                        <Y>90</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Queue Manager</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Queues_Frame}]:Show
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Queues]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Queues_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>
                    
                    <CommandButton Name="Mode_Progress_Button">
                        <X>10</X>
                        <Y>120</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Progress Monitor</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Progress_Frame}]:Show
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Progress]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Progress_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>
                    
                    <CommandButton Name="Mode_Settings_Button">
                        <X>10</X>
                        <Y>150</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Settings</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Settings_Frame}]:Show
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Settings]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Settings_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>
                    
                    <CommandButton Name="Mode_Mapper_Button">
                        <X>10</X>
                        <Y>180</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Waypoint Mapper</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mapper_Frame}]:Show
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Mapper]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Mapper_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>

                    <CommandButton Name="Mode_Debug_Button">
                        <X>10</X>
                        <Y>520</Y>
                        <Width>140</Width>
                        <Height>25</Height>
                        <Text>Debug Options</Text>
                        <OnLeftClick>
                            UIElement[${JBUI_Instances_Frame}]:Hide
                            UIElement[${JBUI_Tasks_Frame}]:Hide
                            UIElement[${JBUI_Queues_Frame}]:Hide
                            UIElement[${JBUI_Progress_Frame}]:Hide
                            UIElement[${JBUI_Settings_Frame}]:Hide
                            UIElement[${JBUI_Mapper_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Debug_Frame}]:Hide
                            UIElement[${JBUI_Mode_Instances_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Tasks_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Queues_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Progress_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Settings_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Mapper_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FFFFFFFF]
                            UIElement[${JBUI_Debug_Frame}]:Show
                            UIElement[${JBUI_Mode_Debug_Button}].Font:SetColor[FF00FF00]
                            _sJB_CurrentMode:Set[Debug]
                        </OnLeftClick>
                        <OnLoad>
                            declarevariable JBUI_Mode_Debug_Button int global ${This.ID}
                        </OnLoad>
                    </CommandButton>

                    <!-- System Info at Bottom -->
                    <Text name='SystemInfo_Text'>
                        <X>5</X>
                        <Y>580</Y>
                        <Width>150</Width>
                        <Height>60</Height>
                        <Alignment>Center</Alignment>
                        <Wrap>1</Wrap>
                        <Font>
                            <Size>13</Size>
                        </Font>
                        <Text>JB System v2.0.0
Ready</Text>
                        <OnLoad>
                            declarevariable JBUI_SystemInfo_Text int global ${This.ID}
                        </OnLoad>
                    </Text>
                </Children>
            </frame>
            
            <!-- Main Content Area -->
            <frame name='Content_Frame'>
                <X>160</X>
                <Y>0</Y>
                <Height>100%</Height>
                <Width>840</Width>
                <Visible>1</Visible>
                <Border>0</Border>
                <OnLoad>
                    declarevariable JBUI_Content_Frame int global ${This.ID}
                </OnLoad>
                <Children>
                    <!-- INSTANCES MODE -->
                    <frame name='Instances_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>1</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Instances_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Instances_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Instance Runner - Select an Instance</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>
                            
                            <!-- Instance List -->
                            <Text name='InstanceList_Label'>
                                <X>10</X>
                                <Y>35</Y>
                                <Width>400</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Available Instances:</Text>
                            </Text>
                            
                            <CommandButton Name="RefreshInstances_Button">
                                <X>130</X>
                                <Y>33</Y>
                                <Width>70</Width>
                                <Height>18</Height>
                                <Text>Refresh</Text>
                                <OnLeftClick>
                                    echo Refresh: Check ${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JB/instances/
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RefreshInstances_Button int global ${This.ID}
                                </OnLoad>
                            </CommandButton>
                            
                            <listbox name='InstanceList_Listbox'>
                                <X>10</X>
                                <Y>60</Y>
                                <Width>400</Width>
                                <Height>520</Height>
                                <SelectMultiple>0</SelectMultiple>
                                <Sort>Text</Sort>
                                <OnSelect>
                                    _sJB_SelectedInstance:Set["${UIElement[${JBUI_InstanceList_Listbox}].SelectedItem.Text}"]
                                </OnSelect>
                                <OnLoad>
                                    declarevariable JBUI_InstanceList_Listbox int global ${This.ID}
                                </OnLoad>
                            </listbox>
                            
                            <!-- Instance Preview -->
                            <Text name='InstancePreview_Label'>
                                <X>420</X>
                                <Y>35</Y>
                                <Width>410</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Instance Information:</Text>
                            </Text>
                            
                            <Console Name="InstancePreview_Console">
                                <X>420</X>
                                <Y>60</Y>
                                <Width>410</Width>
                                <Height>400</Height>
                                <OnLoad>
                                    declarevariable JBUI_InstancePreview_Console int global ${This.ID}
                                    UIElement[${JBUI_InstancePreview_Console}]:SetBackgroundColor[FF2d5f7f]
                                    UIElement[${JBUI_InstancePreview_Console}]:SetScrollbackColor[FF2d5f7f]
                                </OnLoad>
                            </Console>
                            
                            <!-- Action Buttons -->
                            <CommandButton Name="LoadInstance_Button">
                                <X>420</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Load Instance</Text>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    if ${_sJB_SelectedInstance.Length}
                                    {
                                        echo ${Time}: Loading instance: ${_sJB_SelectedInstance}
                                        UIElement[${JBUI_Status_Text}]:SetText["Instance loaded: ${_sJB_SelectedInstance.Left[20]}"]
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_LoadInstance_Button int global ${This.ID}
                                    UIElement[${JBUI_LoadInstance_Button}].Font:SetColor[FF00FF00]
                                </OnLoad>
                            </CommandButton>
                            
                            <CommandButton Name="RunInstance_Button">
                                <X>560</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Run Now</Text>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    if ${_sJB_SelectedInstance.Length}
                                    {
                                        ; Trigger the start button on mini UI
                                        UIElement[${JBUI_Start_Button}]:LeftClick
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RunInstance_Button int global ${This.ID}
                                    UIElement[${JBUI_RunInstance_Button}].Font:SetColor[FFFF9933]
                                </OnLoad>
                            </CommandButton>
                            
                            <CommandButton Name="EditInstance_Button">
                                <X>700</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Open in Editor</Text>
                                <OnLeftClick>
                                    if ${_sJB_SelectedInstance.Length}
                                    {
                                        execute notepad "${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JB/instances/${_sJB_SelectedInstance}.json"
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_EditInstance_Button int global ${This.ID}
                                </OnLoad>
                            </CommandButton>
                            
                            <!-- Quick Options -->
                            <frame name='InstanceOptions_Frame'>
                                <X>420</X>
                                <Y>510</Y>
                                <Height>70</Height>
                                <Width>410</Width>
                                <Visible>1</Visible>
                                <Border>1</Border>
                                <OnLoad>
                                    declarevariable JBUI_InstanceOptions_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Options_Label'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>400</Width>
                                        <Height>15</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>10</Size>
                                        </Font>
                                        <Text>Quick Options:</Text>
                                    </Text>
                                    
                                    <checkbox name='StopOnError_Checkbox'>
                                        <X>10</X>
                                        <Y>25</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Stop on error</Text>
                                        <OnLeftClick>
                                            J_Instance_StopOnError:Set[${This.Checked}]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_StopOnError_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <checkbox name='EnableCheckpoints_Checkbox'>
                                        <X>130</X>
                                        <Y>25</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Enable checkpoints</Text>
                                        <OnLoad>
                                            declarevariable JBUI_EnableCheckpoints_Checkbox int global ${This.ID}
                                            This:SetChecked
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <Text name='StartStep_Label'>
                                        <X>10</X>
                                        <Y>48</Y>
                                        <Width>80</Width>
                                        <Height>15</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Start at step:</Text>
                                    </Text>
                                    
                                    <TextEntry Name='StartStep_TextEntry'>
                                        <X>85</X>
                                        <Y>46</Y>
                                        <Width>40</Width>
                                        <Height>18</Height>
                                        <OnLoad>
                                            declarevariable JBUI_StartStep_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_StartStep_TextEntry}]:SetText[1]
                                        </OnLoad>
                                    </TextEntry>
                                </Children>
                            </frame>
                        </Children>
                    </frame>
                    
                    <!-- TASKS MODE -->
                    <frame name='Tasks_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Tasks_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Tasks_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Task Manager - Quest/Task Files</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>
                            
                            <!-- Task List -->
                            <Text name='TaskList_Label'>
                                <X>10</X>
                                <Y>35</Y>
                                <Width>400</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Available Tasks:</Text>
                            </Text>
                            
                            <CommandButton Name="RefreshTasks_Button">
                                <X>110</X>
                                <Y>33</Y>
                                <Width>70</Width>
                                <Height>18</Height>
                                <Text>Refresh</Text>
                                <OnLeftClick>
                                    echo Refresh: Check ${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JQuestBot/tasks/
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RefreshTasks_Button int global ${This.ID}
                                </OnLoad>
                            </CommandButton>
                            
                            <listbox name='TaskList_Listbox'>
                                <X>10</X>
                                <Y>60</Y>
                                <Width>400</Width>
                                <Height>520</Height>
                                <SelectMultiple>0</SelectMultiple>
                                <Sort>Text</Sort>
                                <OnSelect>
                                    _sJB_SelectedTask:Set["${UIElement[${JBUI_TaskList_Listbox}].SelectedItem.Text}"]
                                </OnSelect>
                                <OnLoad>
                                    declarevariable JBUI_TaskList_Listbox int global ${This.ID}
                                </OnLoad>
                            </listbox>
                            
                            <!-- Task Preview -->
                            <Text name='TaskPreview_Label'>
                                <X>420</X>
                                <Y>35</Y>
                                <Width>410</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Task Information:</Text>
                            </Text>
                            
                            <Console Name="TaskPreview_Console">
                                <X>420</X>
                                <Y>60</Y>
                                <Width>410</Width>
                                <Height>400</Height>
                                <OnLoad>
                                    declarevariable JBUI_TaskPreview_Console int global ${This.ID}
                                    UIElement[${JBUI_TaskPreview_Console}]:SetBackgroundColor[FF2d5f7f]
                                    UIElement[${JBUI_TaskPreview_Console}]:SetScrollbackColor[FF2d5f7f]
                                </OnLoad>
                            </Console>
                            
                            <!-- Action Buttons -->
                            <CommandButton Name="RunTask_Button">
                                <X>420</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Run Task</Text>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    if ${_sJB_SelectedTask.Length}
                                    {
                                        runscript "Eq2JCommon/JQuestBot/JQuestBot" "${_sJB_SelectedTask}"
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RunTask_Button int global ${This.ID}
                                    UIElement[${JBUI_RunTask_Button}].Font:SetColor[FF00FF00]
                                </OnLoad>
                            </CommandButton>
                            
                            <CommandButton Name="EditTask_Button">
                                <X>560</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Edit in Notepad</Text>
                                <OnLeftClick>
                                    if ${_sJB_SelectedTask.Length}
                                    {
                                        execute notepad "${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JQuestBot/tasks/${_sJB_SelectedTask}.json"
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_EditTask_Button int global ${This.ID}
                                </OnLoad>
                            </CommandButton>
                        </Children>
                    </frame>
                    
                    <!-- QUEUES MODE -->
                    <frame name='Queues_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Queues_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Queues_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Queue Manager - Run Multiple Tasks</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>
                            
                            <!-- Queue List -->
                            <Text name='QueueList_Label'>
                                <X>10</X>
                                <Y>35</Y>
                                <Width>400</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Available Queues:</Text>
                            </Text>
                            
                            <CommandButton Name="RefreshQueues_Button">
                                <X>120</X>
                                <Y>33</Y>
                                <Width>70</Width>
                                <Height>18</Height>
                                <Text>Refresh</Text>
                                <OnLeftClick>
                                    echo Refresh: Check ${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JQuestBot/queues/
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RefreshQueues_Button int global ${This.ID}
                                </OnLoad>
                            </CommandButton>
                            
                            <listbox name='QueueList_Listbox'>
                                <X>10</X>
                                <Y>60</Y>
                                <Width>400</Width>
                                <Height>520</Height>
                                <SelectMultiple>0</SelectMultiple>
                                <Sort>Text</Sort>
                                <OnSelect>
                                    _sJB_SelectedQueue:Set["${UIElement[${JBUI_QueueList_Listbox}].SelectedItem.Text}"]
                                </OnSelect>
                                <OnLoad>
                                    declarevariable JBUI_QueueList_Listbox int global ${This.ID}
                                    declarevariable _sJB_SelectedQueue string global
                                </OnLoad>
                            </listbox>
                            
                            <!-- Queue Preview -->
                            <Text name='QueuePreview_Label'>
                                <X>420</X>
                                <Y>35</Y>
                                <Width>410</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <Text>Queue Contents:</Text>
                            </Text>
                            
                            <listbox name='QueueContents_Listbox'>
                                <X>420</X>
                                <Y>60</Y>
                                <Width>410</Width>
                                <Height>400</Height>
                                <SelectMultiple>0</SelectMultiple>
                                <Sort>None</Sort>
                                <OnLoad>
                                    declarevariable JBUI_QueueContents_Listbox int global ${This.ID}
                                </OnLoad>
                            </listbox>
                            
                            <!-- Action Buttons -->
                            <CommandButton Name="RunQueue_Button">
                                <X>420</X>
                                <Y>470</Y>
                                <Width>130</Width>
                                <Height>30</Height>
                                <Text>Run Queue</Text>
                                <Font>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    if ${_sJB_SelectedQueue.Length}
                                    {
                                        runscript "Eq2JCommon/JQuestBot/JQuestBot" "" "${_sJB_SelectedQueue}"
                                    }
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_RunQueue_Button int global ${This.ID}
                                    UIElement[${JBUI_RunQueue_Button}].Font:SetColor[FF00FF00]
                                </OnLoad>
                            </CommandButton>
                        </Children>
                    </frame>
                    
                    <!-- PROGRESS MONITOR MODE -->
                    <frame name='Progress_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Progress_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Progress_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Progress Monitor - Real-time Execution Status</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>
                            
                            <!-- Current Step Display -->
                            <frame name='CurrentStep_Frame'>
                                <X>10</X>
                                <Y>40</Y>
                                <Height>120</Height>
                                <Width>820</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_CurrentStep_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='CurrentStep_Label'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>810</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Current Step:</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </Text>

                                    <Text name='CurrentStep_Number'>
                                        <X>5</X>
                                        <Y>25</Y>
                                        <Width>810</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Step: -- / --</Text>
                                        <OnLoad>
                                            declarevariable JBUI_CurrentStep_Number int global ${This.ID}
                                        </OnLoad>
                                    </Text>

                                    <Text name='CurrentStep_Command'>
                                        <X>5</X>
                                        <Y>45</Y>
                                        <Width>810</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Command: --</Text>
                                        <OnLoad>
                                            declarevariable JBUI_CurrentStep_Command int global ${This.ID}
                                        </OnLoad>
                                    </Text>

                                    <Text name='CurrentStep_Description'>
                                        <X>5</X>
                                        <Y>65</Y>
                                        <Width>810</Width>
                                        <Height>50</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Description: --</Text>
                                        <OnLoad>
                                            declarevariable JBUI_CurrentStep_Description int global ${This.ID}
                                        </OnLoad>
                                    </Text>
                                </Children>
                            </frame>
                            
                            <!-- Progress Stats -->
                            <frame name='ProgressStats_Frame'>
                                <X>10</X>
                                <Y>170</Y>
                                <Height>80</Height>
                                <Width>820</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_ProgressStats_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Stats_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>810</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Statistics:</Text>
                                    </Text>

                                    <Text name='Stats_Display'>
                                        <X>5</X>
                                        <Y>25</Y>
                                        <Width>810</Width>
                                        <Height>50</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Name>Terminal</Name>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Completed: 0 | Failed: 0 | Duration: 0m 0s</Text>
                                        <OnLoad>
                                            declarevariable JBUI_Stats_Display int global ${This.ID}
                                        </OnLoad>
                                    </Text>
                                </Children>
                            </frame>
                            
                            <!-- Execution Log -->
                            <Text name='ExecutionLog_Label'>
                                <X>10</X>
                                <Y>260</Y>
                                <Width>400</Width>
                                <Height>20</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>13</Size>
                                </Font>
                                <Text>Execution Log:</Text>
                            </Text>
                            
                            <Console Name="ExecutionLog_Console">
                                <X>10</X>
                                <Y>285</Y>
                                <Width>820</Width>
                                <Height>295</Height>
                                <OnLoad>
                                    declarevariable JBUI_ExecutionLog_Console int global ${This.ID}
                                    UIElement[${JBUI_ExecutionLog_Console}]:SetBackgroundColor[FF2d5f7f]
                                    UIElement[${JBUI_ExecutionLog_Console}]:SetScrollbackColor[FF2d5f7f]
                                </OnLoad>
                            </Console>
                        </Children>
                    </frame>
                    
                    <!-- SETTINGS MODE -->
                    <frame name='Settings_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Settings_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Settings_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Settings - Configure JB Behavior</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>
                            
                            <!-- General Settings -->
                            <frame name='GeneralSettings_Frame'>
                                <X>10</X>
                                <Y>40</Y>
                                <Height>200</Height>
                                <Width>400</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_GeneralSettings_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='General_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>390</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>General Settings:</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>
                                    
                                    <checkbox name='AutoLoadLastInstance_Checkbox'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Auto-load last instance on startup</Text>
                                        <OnLoad>
                                            declarevariable JBUI_AutoLoadLastInstance_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <checkbox name='MinimizeOnStart_Checkbox'>
                                        <X>10</X>
                                        <Y>55</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Minimize main window on start</Text>
                                        <OnLoad>
                                            declarevariable JBUI_MinimizeOnStart_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <checkbox name='ShowCompletionSummary_Checkbox'>
                                        <X>10</X>
                                        <Y>80</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Show completion summary</Text>
                                        <OnLoad>
                                            declarevariable JBUI_ShowCompletionSummary_Checkbox int global ${This.ID}
                                            This:SetChecked
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <Text name='DefaultRetries_Label'>
                                        <X>10</X>
                                        <Y>110</Y>
                                        <Width>180</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Default max retries per step:</Text>
                                    </Text>
                                    
                                    <TextEntry Name='DefaultRetries_TextEntry'>
                                        <X>190</X>
                                        <Y>108</Y>
                                        <Width>50</Width>
                                        <Height>20</Height>
                                        <OnLoad>
                                            declarevariable JBUI_DefaultRetries_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_DefaultRetries_TextEntry}]:SetText[3]
                                        </OnLoad>
                                    </TextEntry>
                                    
                                    <CommandButton Name="SaveSettings_Button">
                                        <X>10</X>
                                        <Y>150</Y>
                                        <Width>120</Width>
                                        <Height>25</Height>
                                        <Text>Save Settings</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <OnLeftClick>
                                            call JB_UI_SaveSettings
                                            echo ${Time}: Settings saved
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_SaveSettings_Button int global ${This.ID}
                                            UIElement[${JBUI_SaveSettings_Button}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>
                                    
                                    <CommandButton Name="LoadSettings_Button">
                                        <X>140</X>
                                        <Y>150</Y>
                                        <Width>120</Width>
                                        <Height>25</Height>
                                        <Text>Load Settings</Text>
                                        <OnLeftClick>
                                            call JB_UI_LoadSettings
                                            echo ${Time}: Settings loaded
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_LoadSettings_Button int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>
                                </Children>
                            </frame>
                            
                            <!-- Execution Settings -->
                            <frame name='ExecutionSettings_Frame'>
                                <X>420</X>
                                <Y>40</Y>
                                <Height>200</Height>
                                <Width>410</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_ExecutionSettings_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Execution_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>400</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Execution Settings:</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>
                                    
                                    <checkbox name='StopOnErrorDefault_Checkbox'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Stop on error (default)</Text>
                                        <OnLoad>
                                            declarevariable JBUI_StopOnErrorDefault_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <checkbox name='EnableCheckpointsDefault_Checkbox'>
                                        <X>10</X>
                                        <Y>55</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Enable checkpoints (default)</Text>
                                        <OnLoad>
                                            declarevariable JBUI_EnableCheckpointsDefault_Checkbox int global ${This.ID}
                                            This:SetChecked
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <checkbox name='VerboseLogging_Checkbox'>
                                        <X>10</X>
                                        <Y>80</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Verbose logging</Text>
                                        <OnLoad>
                                            declarevariable JBUI_VerboseLogging_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>
                                    
                                    <Text name='StepDelay_Label'>
                                        <X>10</X>
                                        <Y>110</Y>
                                        <Width>200</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Default delay between steps (ds):</Text>
                                    </Text>
                                    
                                    <TextEntry Name='StepDelay_TextEntry'>
                                        <X>210</X>
                                        <Y>108</Y>
                                        <Width>50</Width>
                                        <Height>20</Height>
                                        <OnLoad>
                                            declarevariable JBUI_StepDelay_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_StepDelay_TextEntry}]:SetText[5]
                                        </OnLoad>
                                    </TextEntry>
                                </Children>
                            </frame>
                            
                            <!-- Developer Options -->
                            <frame name='DeveloperSettings_Frame'>
                                <X>10</X>
                                <Y>250</Y>
                                <Height>150</Height>
                                <Width>820</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_DeveloperSettings_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Developer_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>810</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Developer Options:</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>
                                    
                                    <checkbox name='DeveloperMode_Checkbox'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Enable developer mode (load scripts from source)</Text>
                                        <OnLeftClick>
                                            JB_DeveloperMode:Set[${This.Checked}]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_DeveloperMode_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <CommandButton Name="OpenInstancesFolder_Button">
                                        <X>10</X>
                                        <Y>60</Y>
                                        <Width>150</Width>
                                        <Height>25</Height>
                                        <Text>Open Instances Folder</Text>
                                        <OnLeftClick>
                                            execute explorer "${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JB/instances/"
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_OpenInstancesFolder_Button int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>
                                    
                                    <CommandButton Name="OpenTasksFolder_Button">
                                        <X>170</X>
                                        <Y>60</Y>
                                        <Width>150</Width>
                                        <Height>25</Height>
                                        <Text>Open Tasks Folder</Text>
                                        <OnLeftClick>
                                            execute explorer "${LavishScript.HomeDirectory}/Scripts/Eq2JCommon/JQuestBot/tasks/"
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_OpenTasksFolder_Button int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="OpenWaypointsFolder_Button">
                                        <X>330</X>
                                        <Y>60</Y>
                                        <Width>150</Width>
                                        <Height>25</Height>
                                        <Text>Open Waypoints Folder</Text>
                                        <OnLeftClick>
                                            execute explorer "${LavishScript.HomeDirectory}/Scripts/JB/waypoints/"
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_OpenWaypointsFolder_Button int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>
                                </Children>
                            </frame>
                        </Children>
                    </frame>

                    <!-- MAPPER MODE -->
                    <frame name='Mapper_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Mapper_Frame int global ${This.ID}
                            declarevariable JBUI_Mapper_Recording bool global
                            declarevariable JBUI_Mapper_Count int global
                            declarevariable JBUI_Mapper_LastX float global
                            declarevariable JBUI_Mapper_LastY float global
                            declarevariable JBUI_Mapper_LastZ float global
                            declarevariable JBUI_Mapper_XmlData string global
                            declarevariable JBUI_Mapper_PathName string global
                            declarevariable JBUI_Mapper_Distance float global
                            declarevariable JBUI_Mapper_LastActorInfo string global
                            declarevariable JBUI_Mapper_LastActorTime int global
                            declarevariable JBUI_Mapper_CurrentTab string global

                            declarevariable JBUI_Playback_IsPlaying bool global
                            declarevariable JBUI_Playback_IsPaused bool global
                            declarevariable JBUI_Playback_Loaded bool global
                            declarevariable JBUI_Playback_CurrentIndex int global
                            declarevariable JBUI_Playback_TotalItems int global
                            declarevariable JBUI_Playback_PathFile string global
                            declarevariable JBUI_Playback_WaypointCount int global
                            declarevariable JBUI_Playback_CommandCount int global

                            JBUI_Mapper_Recording:Set[FALSE]
                            JBUI_Mapper_Count:Set[0]
                            JBUI_Mapper_PathName:Set["NewPath"]
                            JBUI_Mapper_Distance:Set[5.0]
                            JBUI_Mapper_LastActorInfo:Set[""]
                            JBUI_Mapper_LastActorTime:Set[0]
                            JBUI_Mapper_CurrentTab:Set["Recording"]
                            JBUI_Mapper_XmlData:Set["&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Waypoints&gt;"]

                            JBUI_Playback_IsPlaying:Set[FALSE]
                            JBUI_Playback_IsPaused:Set[FALSE]
                            JBUI_Playback_Loaded:Set[FALSE]
                            JBUI_Playback_CurrentIndex:Set[0]
                            JBUI_Playback_TotalItems:Set[0]
                            JBUI_Playback_PathFile:Set[""]
                        </OnLoad>
                        <Children>
                            <Text name='Mapper_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>25</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>14</Size>
                                </Font>
                                <Text>Waypoint Mapper - Record Waypoint Paths</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>

                            <!-- Tab Buttons -->
                            <CommandButton Name="MapperTab_Recording">
                                <X>10</X>
                                <Y>35</Y>
                                <Width>100</Width>
                                <Height>25</Height>
                                <Text>Recording</Text>
                                <Font>
                                    <Size>13</Size>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_SwitchTab,"Recording"]
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_MapperTab_Recording int global ${This.ID}
                                    UIElement[${JBUI_MapperTab_Recording}].Font:SetColor[FF00FF00]
                                </OnLoad>
                            </CommandButton>

                            <CommandButton Name="MapperTab_Commands">
                                <X>115</X>
                                <Y>35</Y>
                                <Width>100</Width>
                                <Height>25</Height>
                                <Text>Commands</Text>
                                <Font>
                                    <Size>13</Size>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_SwitchTab,"Commands"]
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_MapperTab_Commands int global ${This.ID}
                                    UIElement[${JBUI_MapperTab_Commands}].Font:SetColor[FFFFFFFF]
                                </OnLoad>
                            </CommandButton>

                            <CommandButton Name="MapperTab_Actors">
                                <X>220</X>
                                <Y>35</Y>
                                <Width>100</Width>
                                <Height>25</Height>
                                <Text>Actors</Text>
                                <Font>
                                    <Size>13</Size>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_SwitchTab,"Actors"]
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_MapperTab_Actors int global ${This.ID}
                                    UIElement[${JBUI_MapperTab_Actors}].Font:SetColor[FFFFFFFF]
                                </OnLoad>
                            </CommandButton>

                            <CommandButton Name="MapperTab_Playback">
                                <X>325</X>
                                <Y>35</Y>
                                <Width>100</Width>
                                <Height>25</Height>
                                <Text>Playback</Text>
                                <Font>
                                    <Size>13</Size>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_SwitchTab,"Playback"]
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_MapperTab_Playback int global ${This.ID}
                                    UIElement[${JBUI_MapperTab_Playback}].Font:SetColor[FFFFFFFF]
                                </OnLoad>
                            </CommandButton>

                            <CommandButton Name="MapperTab_ZoneTravel">
                                <X>430</X>
                                <Y>35</Y>
                                <Width>110</Width>
                                <Height>25</Height>
                                <Text>Zone Travel</Text>
                                <Font>
                                    <Size>13</Size>
                                    <Bold>1</Bold>
                                </Font>
                                <OnLeftClick>
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_SwitchTab,"ZoneTravel"]
                                </OnLeftClick>
                                <OnLoad>
                                    declarevariable JBUI_MapperTab_ZoneTravel int global ${This.ID}
                                    UIElement[${JBUI_MapperTab_ZoneTravel}].Font:SetColor[FFFFFFFF]
                                </OnLoad>
                            </CommandButton>

                            <!-- Tab Content Area (left side) -->
                            <!-- Controls Panel (Recording Tab) -->
                            <frame name='MapperControls_Frame'>
                                <X>10</X>
                                <Y>65</Y>
                                <Height>520</Height>
                                <Width>670</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperControls_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Controls_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>390</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Recording Controls</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <!-- Path Name -->
                                    <Text name='PathName_Label'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>80</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Path Name:</Text>
                                    </Text>

                                    <TextEntry Name='Mapper_PathName_TextEntry'>
                                        <X>95</X>
                                        <Y>28</Y>
                                        <Width>280</Width>
                                        <Height>20</Height>
                                        <OnChange>
                                            JBUI_Mapper_PathName:Set["${UIElement[${JBUI_Mapper_PathName_TextEntry}].Text}"]
                                        </OnChange>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_PathName_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_Mapper_PathName_TextEntry}]:SetText["NewPath"]
                                        </OnLoad>
                                    </TextEntry>

                                    <!-- Quest Line (only visible for quests) -->
                                    <Text name='QuestLine_Label'>
                                        <X>390</X>
                                        <Y>5</Y>
                                        <Width>85</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Quest Line:</Text>
                                        <Visible>0</Visible>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_QuestLine_Label int global ${This.ID}
                                        </OnLoad>
                                    </Text>

                                    <TextEntry Name='Mapper_QuestLine_TextEntry'>
                                        <X>480</X>
                                        <Y>3</Y>
                                        <Width>180</Width>
                                        <Height>20</Height>
                                        <Visible>0</Visible>
                                        <OnChange>
                                            JBUI_Mapper_QuestLine:Set["${UIElement[${JBUI_Mapper_QuestLine_TextEntry}].Text}"]
                                        </OnChange>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_QuestLine_TextEntry int global ${This.ID}
                                            declarevariable JBUI_Mapper_QuestLine string global
                                            UIElement[${JBUI_Mapper_QuestLine_TextEntry}]:SetText[""]
                                            JBUI_Mapper_QuestLine:Set[""]
                                        </OnLoad>
                                    </TextEntry>

                                    <!-- Save Type Selection -->
                                    <Text name='SaveType_Label'>
                                        <X>10</X>
                                        <Y>55</Y>
                                        <Width>80</Width>
                                        <Height>25</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>15</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Save As:</Text>
                                    </Text>

                                    <checkbox name='SaveType_Waypoint'>
                                        <X>95</X>
                                        <Y>53</Y>
                                        <Width>100</Width>
                                        <Height>25</Height>
                                        <Text>Waypoint</Text>
                                        <Font>
                                            <Size>15</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Mapper_SaveType_Waypoint}]:SetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Quest}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Task}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Queue}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_QuestLine_Label}]:Hide
                                            UIElement[${JBUI_Mapper_QuestLine_TextEntry}]:Hide
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveType_Waypoint int global ${This.ID}
                                            UIElement[${JBUI_Mapper_SaveType_Waypoint}]:SetChecked
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='SaveType_Quest'>
                                        <X>200</X>
                                        <Y>53</Y>
                                        <Width>70</Width>
                                        <Height>25</Height>
                                        <Text>Quest</Text>
                                        <Font>
                                            <Size>15</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Mapper_SaveType_Waypoint}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Quest}]:SetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Task}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Queue}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_QuestLine_Label}]:Show
                                            UIElement[${JBUI_Mapper_QuestLine_TextEntry}]:Show
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveType_Quest int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='SaveType_Task'>
                                        <X>275</X>
                                        <Y>53</Y>
                                        <Width>65</Width>
                                        <Height>25</Height>
                                        <Text>Task</Text>
                                        <Font>
                                            <Size>15</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Mapper_SaveType_Waypoint}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Quest}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_QuestLine_Label}]:Hide
                                            UIElement[${JBUI_Mapper_QuestLine_TextEntry}]:Hide
                                            UIElement[${JBUI_Mapper_SaveType_Task}]:SetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Queue}]:UnsetChecked
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveType_Task int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='SaveType_Queue'>
                                        <X>345</X>
                                        <Y>53</Y>
                                        <Width>80</Width>
                                        <Height>25</Height>
                                        <Text>Queue</Text>
                                        <Font>
                                            <Size>15</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Mapper_SaveType_Waypoint}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Quest}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Task}]:UnsetChecked
                                            UIElement[${JBUI_Mapper_SaveType_Queue}]:SetChecked
                                            UIElement[${JBUI_Mapper_QuestLine_Label}]:Hide
                                            UIElement[${JBUI_Mapper_QuestLine_TextEntry}]:Hide
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveType_Queue int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <!-- Quest Metadata Fields -->
                                    <Text name='QuestName_Label'>
                                        <X>440</X>
                                        <Y>35</Y>
                                        <Width>100</Width>
                                        <Height>18</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>12</Size>
                                        </Font>
                                        <Text>Quest Name:</Text>
                                    </Text>

                                    <TextEntry Name='Mapper_QuestName_TextEntry'>
                                        <X>440</X>
                                        <Y>53</Y>
                                        <Width>220</Width>
                                        <Height>20</Height>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_QuestName_TextEntry int global ${This.ID}
                                        </OnLoad>
                                    </TextEntry>

                                    <!-- Help Text for Save Types (hidden by default to reduce clutter) -->
                                    <Text name='SaveType_Help'>
                                        <X>10</X>
                                        <Y>78</Y>
                                        <Width>650</Width>
                                        <Height>25</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Visible>0</Visible>
                                        <Font>
                                            <Size>11</Size>
                                        </Font>
                                        <Text>Waypoint: Simple paths | Quest: Quest paths with commands | Task: Repeatable tasks | Queue: Task sequences</Text>
                                    </Text>

                                    <!-- Distance Setting -->
                                    <Text name='Distance_Label'>
                                        <X>440</X>
                                        <Y>78</Y>
                                        <Width>120</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>Auto-record dist:</Text>
                                    </Text>

                                    <TextEntry Name='Mapper_Distance_TextEntry'>
                                        <X>560</X>
                                        <Y>76</Y>
                                        <Width>50</Width>
                                        <Height>20</Height>
                                        <OnChange>
                                            JBUI_Mapper_Distance:Set[${UIElement[${JBUI_Mapper_Distance_TextEntry}].Text}]
                                        </OnChange>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_Distance_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_Mapper_Distance_TextEntry}]:SetText["5.0"]
                                        </OnLoad>
                                    </TextEntry>

                                    <Text name='Distance_IlLabel'>
                                        <X>615</X>
                                        <Y>78</Y>
                                        <Width>45</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Text>meters</Text>
                                    </Text>

                                    <!-- Record Button -->
                                    <CommandButton Name="Mapper_RecordButton">
                                        <X>10</X>
                                        <Y>110</Y>
                                        <Width>180</Width>
                                        <Height>30</Height>
                                        <Text>Start Recording</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_ToggleRecording]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_RecordButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_RecordButton}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Add Waypoint Button -->
                                    <CommandButton Name="Mapper_AddWaypointButton">
                                        <X>200</X>
                                        <Y>110</Y>
                                        <Width>180</Width>
                                        <Height>30</Height>
                                        <Text>Add Waypoint</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_AddWaypoint]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_AddWaypointButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_AddWaypointButton}].Font:SetColor[FFFFFF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Clear Button -->
                                    <CommandButton Name="Mapper_ClearButton">
                                        <X>10</X>
                                        <Y>150</Y>
                                        <Width>180</Width>
                                        <Height>30</Height>
                                        <Text>Clear All</Text>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_ClearAll]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_ClearButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_ClearButton}].Font:SetColor[FFFF0000]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Save Button -->
                                    <CommandButton Name="Mapper_SaveButton">
                                        <X>200</X>
                                        <Y>150</Y>
                                        <Width>180</Width>
                                        <Height>30</Height>
                                        <Text>Save Waypoints</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_Save]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_SaveButton}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Status Text -->
                                    <Text name='Mapper_StatusText'>
                                        <X>10</X>
                                        <Y>200</Y>
                                        <Width>650</Width>
                                        <Height>35</Height>
                                        <Alignment>Center</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>14</Size>
                                        </Font>
                                        <Text>Ready to record</Text>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_StatusText int global ${This.ID}
                                            UIElement[${JBUI_Mapper_StatusText}].Font:SetColor[FFFFFF00]
                                        </OnLoad>
                                    </Text>
                                </Children>
                            </frame>

                            <!-- Command Library Panel (Commands Tab) -->
                            <frame name='MapperCommands_Frame'>
                                <X>10</X>
                                <Y>65</Y>
                                <Height>520</Height>
                                <Width>880</Width>
                                <Visible>0</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperCommands_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='Commands_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>250</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>14</Size>
                                        </Font>
                                        <Text>Command Library</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <!-- Category Filters -->
                                    <frame name='CategoryFilter_Frame'>
                                        <X>10</X>
                                        <Y>28</Y>
                                        <Height>92</Height>
                                        <Width>300</Width>
                                        <Visible>1</Visible>
                                        <Border>1</Border>
                                        <Children>
                                            <Text name='Filter_Label'>
                                                <X>5</X>
                                                <Y>2</Y>
                                                <Width>290</Width>
                                                <Height>18</Height>
                                                <Alignment>Left</Alignment>
                                                <Font>
                                                    <Bold>1</Bold>
                                                    <Size>14</Size>
                                                </Font>
                                                <Text>Filter Categories:</Text>
                                            </Text>

                                            <checkbox name='Filter_Movement'>
                                                <X>5</X>
                                                <Y>20</Y>
                                                <Width>90</Width>
                                                <Height>18</Height>
                                                <Text>Movement</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Movement int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Movement}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_NPC'>
                                                <X>100</X>
                                                <Y>20</Y>
                                                <Width>65</Width>
                                                <Height>18</Height>
                                                <Text>NPC</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_NPC int global ${This.ID}
                                                    UIElement[${JBUI_Filter_NPC}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Dialog'>
                                                <X>170</X>
                                                <Y>20</Y>
                                                <Width>70</Width>
                                                <Height>18</Height>
                                                <Text>Dialog</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Dialog int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Dialog}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Zone'>
                                                <X>5</X>
                                                <Y>40</Y>
                                                <Width>90</Width>
                                                <Height>18</Height>
                                                <Text>Zone</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Zone int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Zone}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Quest'>
                                                <X>100</X>
                                                <Y>40</Y>
                                                <Width>65</Width>
                                                <Height>18</Height>
                                                <Text>Quest</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Quest int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Quest}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Combat'>
                                                <X>170</X>
                                                <Y>40</Y>
                                                <Width>70</Width>
                                                <Height>18</Height>
                                                <Text>Combat</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Combat int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Combat}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Bot'>
                                                <X>5</X>
                                                <Y>60</Y>
                                                <Width>90</Width>
                                                <Height>18</Height>
                                                <Text>Bot Control</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Bot int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Bot}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Utilities'>
                                                <X>100</X>
                                                <Y>60</Y>
                                                <Width>80</Width>
                                                <Height>18</Height>
                                                <Text>Utilities</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Utilities int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Utilities}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <checkbox name='Filter_Path'>
                                                <X>170</X>
                                                <Y>60</Y>
                                                <Width>90</Width>
                                                <Height>18</Height>
                                                <Text>Path</Text>
                                                <Font><Size>13</Size></Font>
                                                <OnLeftClick>Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]</OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Filter_Path int global ${This.ID}
                                                    UIElement[${JBUI_Filter_Path}]:SetChecked
                                                </OnLoad>
                                            </checkbox>

                                            <CommandButton Name="Filter_AllButton">
                                                <X>5</X>
                                                <Y>80</Y>
                                                <Width>60</Width>
                                                <Height>18</Height>
                                                <Text>All</Text>
                                                <Font><Size>12</Size></Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Filter_Movement}]:SetChecked
                                                    UIElement[${JBUI_Filter_NPC}]:SetChecked
                                                    UIElement[${JBUI_Filter_Dialog}]:SetChecked
                                                    UIElement[${JBUI_Filter_Zone}]:SetChecked
                                                    UIElement[${JBUI_Filter_Quest}]:SetChecked
                                                    UIElement[${JBUI_Filter_Combat}]:SetChecked
                                                    UIElement[${JBUI_Filter_Bot}]:SetChecked
                                                    UIElement[${JBUI_Filter_Utilities}]:SetChecked
                                                    UIElement[${JBUI_Filter_Path}]:SetChecked
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <CommandButton Name="Filter_NoneButton">
                                                <X>70</X>
                                                <Y>80</Y>
                                                <Width>60</Width>
                                                <Height>18</Height>
                                                <Text>None</Text>
                                                <Font><Size>12</Size></Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Filter_Movement}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_NPC}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Dialog}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Zone}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Quest}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Combat}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Bot}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Utilities}]:UnsetChecked
                                                    UIElement[${JBUI_Filter_Path}]:UnsetChecked
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_FilterCommands]
                                                </OnLeftClick>
                                            </CommandButton>
                                        </Children>
                                    </frame>

                                    <!-- Command Selection Listbox - Much Larger -->
                                    <listbox name='Mapper_CommandList'>
                                        <X>10</X>
                                        <Y>125</Y>
                                        <Width>300</Width>
                                        <Height>353</Height>
                                        <SelectMultiple>0</SelectMultiple>
                                        <Sort>None</Sort>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnSelect>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_UpdateCommandHelp]
                                        </OnSelect>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_CommandList int global ${This.ID}
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_PopulateCommands]
                                        </OnLoad>
                                    </listbox>

                                    <!-- Parameter Input Area - Reorganized and Expanded -->
                                    <frame name='Mapper_ParamFrame'>
                                        <X>320</X>
                                        <Y>28</Y>
                                        <Height>450</Height>
                                        <Width>550</Width>
                                        <Visible>1</Visible>
                                        <Border>2</Border>
                                        <Children>
                                            <!-- Help Text Section -->
                                            <Text name='Help_Section_Label'>
                                                <X>5</X>
                                                <Y>5</Y>
                                                <Width>540</Width>
                                                <Height>20</Height>
                                                <Alignment>Left</Alignment>
                                                <Font>
                                                    <Size>13</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <Text>Command Help:</Text>
                                                <OnLoad>
                                                    This.Font:SetColor[FFFF9933]
                                                </OnLoad>
                                            </Text>

                                            <Text name='ParamHelp_Text'>
                                                <X>5</X>
                                                <Y>28</Y>
                                                <Width>540</Width>
                                                <Height>90</Height>
                                                <Alignment>Left</Alignment>
                                                <Wrap>1</Wrap>
                                                <Font>
                                                    <Size>15</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <Text>Select a command from the list to see detailed help and usage examples.</Text>
                                                <OnLoad>
                                                    declarevariable JBUI_Mapper_ParamHelp_Text int global ${This.ID}
                                                    UIElement[${JBUI_Mapper_ParamHelp_Text}].Font:SetColor[FFFFFF00]
                                                </OnLoad>
                                            </Text>

                                            <!-- Parameter Input Section -->
                                            <Text name='Param_Section_Label'>
                                                <X>5</X>
                                                <Y>128</Y>
                                                <Width>540</Width>
                                                <Height>20</Height>
                                                <Alignment>Left</Alignment>
                                                <Font>
                                                    <Size>13</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <Text>Parameter Entry:</Text>
                                                <OnLoad>
                                                    This.Font:SetColor[FFFF9933]
                                                </OnLoad>
                                            </Text>

                                            <!-- Parameter Text Entry -->
                                            <TextEntry Name='Mapper_CommandParam_TextEntry'>
                                                <X>5</X>
                                                <Y>152</Y>
                                                <Width>540</Width>
                                                <Height>30</Height>
                                                <Font>
                                                    <Size>17</Size>
                                                </Font>
                                                <OnLoad>
                                                    declarevariable JBUI_Mapper_CommandParam_TextEntry int global ${This.ID}
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText[""]
                                                </OnLoad>
                                            </TextEntry>

                                            <!-- Quick Helper Buttons Section -->
                                            <Text name='Helpers_Section_Label'>
                                                <X>5</X>
                                                <Y>192</Y>
                                                <Width>540</Width>
                                                <Height>20</Height>
                                                <Alignment>Left</Alignment>
                                                <Font>
                                                    <Size>13</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <Text>Quick Helpers:</Text>
                                                <OnLoad>
                                                    This.Font:SetColor[FFFF9933]
                                                </OnLoad>
                                            </Text>

                                            <CommandButton Name="Mapper_UseMyLoc_Button">
                                                <X>5</X>
                                                <Y>218</Y>
                                                <Width>130</Width>
                                                <Height>30</Height>
                                                <Text>Use My Loc</Text>
                                                <Font>
                                                    <Size>13</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["${Me.Loc}"]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Mapper_UseMyLoc_Button int global ${This.ID}
                                                    UIElement[${JBUI_Mapper_UseMyLoc_Button}].Font:SetColor[FF00FFFF]
                                                </OnLoad>
                                            </CommandButton>

                                            <!-- ForWho Quick Select Buttons -->
                                            <Text name='ForWho_Label'>
                                                <X>5</X>
                                                <Y>258</Y>
                                                <Width>530</Width>
                                                <Height>20</Height>
                                                <Alignment>Left</Alignment>
                                                <Font>
                                                    <Size>12</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <Text>ForWho Prefix (prepends to parameter):</Text>
                                            </Text>

                                            <CommandButton Name="Mapper_ForWho_All">
                                                <X>5</X>
                                                <Y>282</Y>
                                                <Width>80</Width>
                                                <Height>28</Height>
                                                <Text>All</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["all,${UIElement[${JBUI_Mapper_CommandParam_TextEntry}].Text}"]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <CommandButton Name="Mapper_ForWho_Fighter">
                                                <X>90</X>
                                                <Y>282</Y>
                                                <Width>85</Width>
                                                <Height>28</Height>
                                                <Text>Fighter</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["fighter,${UIElement[${JBUI_Mapper_CommandParam_TextEntry}].Text}"]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <CommandButton Name="Mapper_ForWho_Priest">
                                                <X>180</X>
                                                <Y>282</Y>
                                                <Width>80</Width>
                                                <Height>28</Height>
                                                <Text>Priest</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["priest,${UIElement[${JBUI_Mapper_CommandParam_TextEntry}].Text}"]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <CommandButton Name="Mapper_ForWho_Mage">
                                                <X>265</X>
                                                <Y>282</Y>
                                                <Width>80</Width>
                                                <Height>28</Height>
                                                <Text>Mage</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["mage,${UIElement[${JBUI_Mapper_CommandParam_TextEntry}].Text}"]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <CommandButton Name="Mapper_ForWho_Scout">
                                                <X>350</X>
                                                <Y>282</Y>
                                                <Width>80</Width>
                                                <Height>28</Height>
                                                <Text>Scout</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    UIElement[${JBUI_Mapper_CommandParam_TextEntry}]:SetText["scout,${UIElement[${JBUI_Mapper_CommandParam_TextEntry}].Text}"]
                                                </OnLeftClick>
                                            </CommandButton>

                                            <!-- Insert Command Button -->
                                            <CommandButton Name="Mapper_InsertCommandButton">
                                                <X>5</X>
                                                <Y>340</Y>
                                                <Width>540</Width>
                                                <Height>35</Height>
                                                <Text>Insert Selected Command Into Waypoint Path</Text>
                                                <Font>
                                                    <Bold>1</Bold>
                                                    <Size>13</Size>
                                                </Font>
                                                <OnLeftClick>
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_InsertSelectedCommand]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Mapper_InsertCommandButton int global ${This.ID}
                                                    UIElement[${JBUI_Mapper_InsertCommandButton}].Font:SetColor[FF00FF00]
                                                </OnLoad>
                                            </CommandButton>

                                            <!-- Delete Selected Button -->
                                            <CommandButton Name="Mapper_DeleteSelectedButton">
                                                <X>5</X>
                                                <Y>385</Y>
                                                <Width>540</Width>
                                                <Height>30</Height>
                                                <Text>Delete Selected Item From Waypoint Path</Text>
                                                <Font>
                                                    <Size>12</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <OnLeftClick>
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_DeleteSelected]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Mapper_DeleteSelectedButton int global ${This.ID}
                                                    UIElement[${JBUI_Mapper_DeleteSelectedButton}].Font:SetColor[FFFF0000]
                                                </OnLoad>
                                            </CommandButton>
                                        </Children>
                                    </frame>
                                </Children>
                            </frame>

                            <!-- Waypoint List (Horizontal - Below Tab Content) -->
                            <frame name='MapperList_Frame'>
                                <X>10</X>
                                <Y>590</Y>
                                <Height>195</Height>
                                <Width>1100</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperList_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='WaypointList_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>1090</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>13</Size>
                                        </Font>
                                        <Text>Waypoints &amp; Commands</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <listbox name='Mapper_WaypointList'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>900</Width>
                                        <Height>155</Height>
                                        <SelectMultiple>0</SelectMultiple>
                                        <Sort>None</Sort>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_WaypointList int global ${This.ID}
                                        </OnLoad>
                                    </listbox>
                                </Children>
                            </frame>

                            <!-- Actor Inspector Panel (Actors Tab) -->
                            <frame name='MapperActorInspector_Frame'>
                                <X>10</X>
                                <Y>65</Y>
                                <Height>520</Height>
                                <Width>670</Width>
                                <Visible>0</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperActorInspector_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='ActorInspector_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>300</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Actor Inspector</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <CommandButton Name="Mapper_CatalogActorButton">
                                        <X>310</X>
                                        <Y>3</Y>
                                        <Width>80</Width>
                                        <Height>20</Height>
                                        <Text>Catalog</Text>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_CatalogActor]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_CatalogActorButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_CatalogActorButton}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_CatalogRadiusButton">
                                        <X>395</X>
                                        <Y>3</Y>
                                        <Width>120</Width>
                                        <Height>20</Height>
                                        <Text>Catalog Radius</Text>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_CatalogRadius]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_CatalogRadiusButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_CatalogRadiusButton}].Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </CommandButton>

                                    <Text name='Radius_Label'>
                                        <X>520</X>
                                        <Y>6</Y>
                                        <Width>50</Width>
                                        <Height>16</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <Text>Radius:</Text>
                                    </Text>

                                    <TextEntry Name='Mapper_RadiusEntry'>
                                        <X>570</X>
                                        <Y>3</Y>
                                        <Width>50</Width>
                                        <Height>20</Height>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_RadiusEntry int global ${This.ID}
                                            UIElement[${JBUI_Mapper_RadiusEntry}]:SetText["15"]
                                        </OnLoad>
                                    </TextEntry>

                                    <!-- Cursor Actor Info Display -->
                                    <Text name='ActorInfo_Display'>
                                        <X>10</X>
                                        <Y>28</Y>
                                        <Width>380</Width>
                                        <Height>60</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Name>Terminal</Name>
                                            <Size>10</Size>
                                        </Font>
                                        <Text>Hover over an actor to see info...</Text>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_ActorInfo_Display int global ${This.ID}
                                            UIElement[${JBUI_Mapper_ActorInfo_Display}].Font:SetColor[FFCCCCCC]
                                        </OnLoad>
                                    </Text>

                                    <!-- Cataloged Actors List -->
                                    <Text name='CatalogedActors_Label'>
                                        <X>10</X>
                                        <Y>92</Y>
                                        <Width>200</Width>
                                        <Height>15</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>11</Size>
                                        </Font>
                                        <Text>Cataloged Actors:</Text>
                                    </Text>

                                    <CommandButton Name="Mapper_UseActorButton">
                                        <X>215</X>
                                        <Y>90</Y>
                                        <Width>85</Width>
                                        <Height>18</Height>
                                        <Text>Use Selected</Text>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_UseSelectedActor]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_UseActorButton int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_ClearActorsButton">
                                        <X>305</X>
                                        <Y>90</Y>
                                        <Width>85</Width>
                                        <Height>18</Height>
                                        <Text>Clear All</Text>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Mapper_ClearActors]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_ClearActorsButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_ClearActorsButton}].Font:SetColor[FFFF0000]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_SaveCatalogButton">
                                        <X>405</X>
                                        <Y>90</Y>
                                        <Width>70</Width>
                                        <Height>18</Height>
                                        <Text>Save</Text>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_SaveCatalog]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SaveCatalogButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_SaveCatalogButton}].Font:SetColor[FF00FFFF]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_LoadCatalogButton">
                                        <X>480</X>
                                        <Y>90</Y>
                                        <Width>70</Width>
                                        <Height>18</Height>
                                        <Text>Load</Text>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_LoadCatalog]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_LoadCatalogButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_LoadCatalogButton}].Font:SetColor[FFFF00FF]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_NavigateButton">
                                        <X>555</X>
                                        <Y>90</Y>
                                        <Width>75</Width>
                                        <Height>18</Height>
                                        <Text>Navigate</Text>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_NavigateToActor]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_NavigateButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_NavigateButton}].Font:SetColor[FF00AA00]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Mapper_LearnModeButton">
                                        <X>635</X>
                                        <Y>90</Y>
                                        <Width>95</Width>
                                        <Height>18</Height>
                                        <Text>Learn Mode</Text>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_ToggleLearnMode]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_LearnModeButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_LearnModeButton}].Font:SetColor[FFFF0000]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Search and Filter Row -->
                                    <Text name='Search_Label'>
                                        <X>405</X>
                                        <Y>71</Y>
                                        <Width>50</Width>
                                        <Height>15</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>9</Size>
                                        </Font>
                                        <Text>Search:</Text>
                                    </Text>

                                    <TextEntry Name='Mapper_SearchEntry'>
                                        <X>455</X>
                                        <Y>68</Y>
                                        <Width>150</Width>
                                        <Height>18</Height>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SearchEntry int global ${This.ID}
                                        </OnLoad>
                                    </TextEntry>

                                    <CommandButton Name="Mapper_SearchButton">
                                        <X>610</X>
                                        <Y>68</Y>
                                        <Width>50</Width>
                                        <Height>18</Height>
                                        <Text>Find</Text>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_SearchActors]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_SearchButton int global ${This.ID}
                                            UIElement[${JBUI_Mapper_SearchButton}].Font:SetColor[FFFFFF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <combobox Name='Mapper_TypeFilterCombo'>
                                        <X>665</X>
                                        <Y>68</Y>
                                        <Width>100</Width>
                                        <Height>18</Height>
                                        <Font>
                                            <Size>17</Size>
                                        </Font>
                                        <OnSelect>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Catalog_FilterByType]
                                        </OnSelect>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_TypeFilterCombo int global ${This.ID}
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[All Types]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[NPC]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[Resource Node]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[Chest]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[Door]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:AddItem[Named]
                                            UIElement[${JBUI_Mapper_TypeFilterCombo}]:SelectItem[1]
                                        </OnLoad>
                                    </combobox>

                                    <listbox name='Mapper_ActorCatalog'>
                                        <X>10</X>
                                        <Y>112</Y>
                                        <Width>850</Width>
                                        <Height>400</Height>
                                        <SelectMultiple>0</SelectMultiple>
                                        <Sort>None</Sort>
                                        <Font>
                                            <Size>13</Size>
                                        </Font>
                                        <OnLoad>
                                            declarevariable JBUI_Mapper_ActorCatalog int global ${This.ID}
                                        </OnLoad>
                                    </listbox>
                                </Children>
                            </frame>

                            <!-- Playback Panel (Playback Tab) - Placeholder -->
                            <frame name='MapperPlayback_Frame'>
                                <X>10</X>
                                <Y>65</Y>
                                <Height>520</Height>
                                <Width>880</Width>
                                <Visible>0</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperPlayback_Frame int global ${This.ID}
                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_RefreshFolders]
                                </OnLoad>
                                <Children>
                                    <Text name='Playback_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>660</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Playback &amp; Testing</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <!-- Path Selection -->
                                    <Text name='PathFile_Label'>
                                        <X>10</X>
                                        <Y>30</Y>
                                        <Width>100</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>12</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Path File:</Text>
                                    </Text>

                                    <TextEntry Name='Playback_PathFile_TextEntry'>
                                        <X>110</X>
                                        <Y>28</Y>
                                        <Width>470</Width>
                                        <Height>22</Height>
                                        <Font>
                                            <Size>12</Size>
                                        </Font>
                                        <OnLoad>
                                            declarevariable JBUI_Playback_PathFile_TextEntry int global ${This.ID}
                                            UIElement[${JBUI_Playback_PathFile_TextEntry}]:SetText[""]
                                        </OnLoad>
                                    </TextEntry>

                                    <CommandButton Name="Playback_LoadButton">
                                        <X>590</X>
                                        <Y>27</Y>
                                        <Width>70</Width>
                                        <Height>24</Height>
                                        <Text>Load</Text>
                                        <Font>
                                            <Size>11</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_LoadPath]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Playback_LoadButton int global ${This.ID}
                                            UIElement[${JBUI_Playback_LoadButton}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <!-- Folder Browser (left side) -->
                                    <Text name='FolderBrowser_Label'>
                                        <X>10</X>
                                        <Y>60</Y>
                                        <Width>250</Width>
                                        <Height>18</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>12</Size>
                                        </Font>
                                        <Text>Zone Folders:</Text>
                                    </Text>

                                    <CommandButton Name="RefreshFolders_Button">
                                        <X>100</X>
                                        <Y>58</Y>
                                        <Width>60</Width>
                                        <Height>20</Height>
                                        <Text>Refresh</Text>
                                        <Font>
                                            <Size>10</Size>
                                        </Font>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_RefreshFolders]
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_RefreshFolders_Button int global ${This.ID}
                                        </OnLoad>
                                    </CommandButton>

                                    <listbox name='Playback_FolderList'>
                                        <X>10</X>
                                        <Y>85</Y>
                                        <Width>250</Width>
                                        <Height>410</Height>
                                        <SelectMultiple>0</SelectMultiple>
                                        <Sort>Text</Sort>
                                        <Font>
                                            <Size>18</Size>
                                        </Font>
                                        <OnSelect>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_FolderSelected]
                                        </OnSelect>
                                        <OnDoubleLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_FolderDoubleClicked]
                                        </OnDoubleLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Playback_FolderList int global ${This.ID}
                                        </OnLoad>
                                    </listbox>

                                    <!-- File Browser (right side) -->
                                    <Text name='FileBrowser_Label'>
                                        <X>270</X>
                                        <Y>60</Y>
                                        <Width>390</Width>
                                        <Height>18</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>12</Size>
                                        </Font>
                                        <Text>Waypoint Files:</Text>
                                    </Text>

                                    <listbox name='Playback_FileList'>
                                        <X>270</X>
                                        <Y>85</Y>
                                        <Width>390</Width>
                                        <Height>410</Height>
                                        <SelectMultiple>0</SelectMultiple>
                                        <Sort>Text</Sort>
                                        <Font>
                                            <Size>18</Size>
                                        </Font>
                                        <OnSelect>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_FileSelected]
                                        </OnSelect>
                                        <OnLoad>
                                            declarevariable JBUI_Playback_FileList int global ${This.ID}
                                        </OnLoad>
                                    </listbox>

                                    <!-- Playback Controls (Right Side) -->
                                    <frame name='PlaybackControls_Frame'>
                                        <X>670</X>
                                        <Y>85</Y>
                                        <Height>410</Height>
                                        <Width>200</Width>
                                        <Visible>1</Visible>
                                        <Border>2</Border>
                                        <OnLoad>
                                            declarevariable JBUI_PlaybackControls_Frame int global ${This.ID}
                                        </OnLoad>
                                        <Children>
                                            <Text name='Controls_Label'>
                                                <X>5</X>
                                                <Y>5</Y>
                                                <Width>190</Width>
                                                <Height>18</Height>
                                                <Alignment>Center</Alignment>
                                                <Font>
                                                    <Bold>1</Bold>
                                                    <Size>12</Size>
                                                </Font>
                                                <Text>Controls</Text>
                                            </Text>

                                            <CommandButton Name="Playback_PlayButton">
                                                <X>25</X>
                                                <Y>35</Y>
                                                <Width>150</Width>
                                                <Height>40</Height>
                                                <Text>Play</Text>
                                                <Font>
                                                    <Size>14</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <OnLeftClick>
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_Play]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Playback_PlayButton int global ${This.ID}
                                                    UIElement[${JBUI_Playback_PlayButton}].Font:SetColor[FF00FF00]
                                                </OnLoad>
                                            </CommandButton>

                                            <CommandButton Name="Playback_PauseButton">
                                                <X>25</X>
                                                <Y>85</Y>
                                                <Width>150</Width>
                                                <Height>40</Height>
                                                <Text>Pause</Text>
                                                <Font>
                                                    <Size>14</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <OnLeftClick>
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_Pause]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Playback_PauseButton int global ${This.ID}
                                                    UIElement[${JBUI_Playback_PauseButton}].Font:SetColor[FFFFFF00]
                                                </OnLoad>
                                            </CommandButton>

                                            <CommandButton Name="Playback_StopButton">
                                                <X>25</X>
                                                <Y>135</Y>
                                                <Width>150</Width>
                                                <Height>40</Height>
                                                <Text>Stop</Text>
                                                <Font>
                                                    <Size>14</Size>
                                                    <Bold>1</Bold>
                                                </Font>
                                                <OnLeftClick>
                                                    Script[JB_UI_Simple]:ExecuteAtom[JBUI_Playback_Stop]
                                                </OnLeftClick>
                                                <OnLoad>
                                                    declarevariable JBUI_Playback_StopButton int global ${This.ID}
                                                    UIElement[${JBUI_Playback_StopButton}].Font:SetColor[FFFF0000]
                                                </OnLoad>
                                            </CommandButton>

                                            <checkbox name='LoopPath_Checkbox'>
                                                <X>35</X>
                                                <Y>190</Y>
                                                <Width>120</Width>
                                                <Height>25</Height>
                                                <Text>Loop</Text>
                                                <Font>
                                                    <Size>15</Size>
                                                </Font>
                                                <OnLoad>
                                                    declarevariable JBUI_LoopPath_Checkbox int global ${This.ID}
                                                </OnLoad>
                                            </checkbox>

                                            <!-- Playback Progress (below Loop) -->
                                            <frame name='PlaybackProgress_Inline_Frame'>
                                                <X>10</X>
                                                <Y>225</Y>
                                                <Height>170</Height>
                                                <Width>180</Width>
                                                <Visible>1</Visible>
                                                <Border>1</Border>
                                                <Children>
                                                    <Text name='Progress_Inline_Label'>
                                                        <X>5</X>
                                                        <Y>5</Y>
                                                        <Width>170</Width>
                                                        <Height>20</Height>
                                                        <Alignment>Center</Alignment>
                                                        <Font>
                                                            <Bold>1</Bold>
                                                            <Size>14</Size>
                                                        </Font>
                                                        <Text>Progress</Text>
                                                    </Text>

                                                    <Text name='CurrentWaypoint_Inline_Text'>
                                                        <X>5</X>
                                                        <Y>30</Y>
                                                        <Width>170</Width>
                                                        <Height>25</Height>
                                                        <Alignment>Center</Alignment>
                                                        <Font>
                                                            <Size>15</Size>
                                                            <Bold>1</Bold>
                                                        </Font>
                                                        <Text>Waypoint: 0 / 0</Text>
                                                        <OnLoad>
                                                            declarevariable JBUI_CurrentWaypoint_Inline_Text int global ${This.ID}
                                                            UIElement[${JBUI_CurrentWaypoint_Inline_Text}].Font:SetColor[FF00FF00]
                                                        </OnLoad>
                                                    </Text>

                                                    <Text name='CurrentCommand_Inline_Text'>
                                                        <X>5</X>
                                                        <Y>60</Y>
                                                        <Width>170</Width>
                                                        <Height>105</Height>
                                                        <Alignment>Center</Alignment>
                                                        <Wrap>1</Wrap>
                                                        <Font>
                                                            <Size>14</Size>
                                                        </Font>
                                                        <Text>Current:
Waiting...</Text>
                                                        <OnLoad>
                                                            declarevariable JBUI_CurrentCommand_Inline_Text int global ${This.ID}
                                                            UIElement[${JBUI_CurrentCommand_Inline_Text}].Font:SetColor[FFFFFF00]
                                                        </OnLoad>
                                                    </Text>
                                                </Children>
                                            </frame>
                                        </Children>
                                    </frame>

                                </Children>
                            </frame>

                            <!-- Zone Travel Frame -->
                            <frame name='MapperZoneTravel_Frame'>
                                <X>10</X>
                                <Y>65</Y>
                                <Height>520</Height>
                                <Width>880</Width>
                                <Visible>0</Visible>
                                <Border>2</Border>
                                <OnLoad>
                                    declarevariable JBUI_MapperZoneTravel_Frame int global ${This.ID}
                                </OnLoad>
                                <Children>
                                    <Text name='ZoneTravel_Title'>
                                        <X>5</X>
                                        <Y>5</Y>
                                        <Width>660</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Zone Travel - Bells, Spires, Druid Rings &amp; EverPorter</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF9933]
                                        </OnLoad>
                                    </Text>

                                    <!-- Bell Travel Section -->
                                    <Text name='BellTravel_Label'>
                                        <X>10</X>
                                        <Y>35</Y>
                                        <Width>200</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>14</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Bell Travel</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FF00FFFF]
                                        </OnLoad>
                                    </Text>

                                    <listbox name='Bell_Destination'>
                                        <X>10</X>
                                        <Y>60</Y>
                                        <Width>250</Width>
                                        <Height>200</Height>
                                        <OnLoad>
                                            declarevariable JBUI_ZoneTravel_BellList int global ${This.ID}
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Commonlands"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Antonica"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Thundering Steppes"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Nektulos Forest"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Enchanted Lands"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Everfrost"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Lavastorm"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Sinking Sands"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Steamfont Mountains"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Butcherblock Mountains"]
                                            UIElement[${JBUI_ZoneTravel_BellList}]:AddItem["Greater Faydark"]
                                        </OnLoad>
                                    </listbox>

                                    <CommandButton Name='BellTravel_Button'>
                                        <X>270</X>
                                        <Y>60</Y>
                                        <Width>120</Width>
                                        <Height>25</Height>
                                        <Text>Travel via Bell</Text>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_ZoneTravel_UseBell]
                                        </OnLeftClick>
                                    </CommandButton>

                                    <!-- Spire Travel Section -->
                                    <Text name='SpireTravel_Label'>
                                        <X>450</X>
                                        <Y>35</Y>
                                        <Width>200</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>14</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Spire Travel</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFF00FF]
                                        </OnLoad>
                                    </Text>

                                    <listbox name='Spire_Destination'>
                                        <X>450</X>
                                        <Y>60</Y>
                                        <Width>250</Width>
                                        <Height>200</Height>
                                        <OnLoad>
                                            declarevariable JBUI_ZoneTravel_SpireList int global ${This.ID}
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Commonlands"]
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Antonica"]
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Thundering Steppes"]
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Nektulos Forest"]
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Enchanted Lands"]
                                            UIElement[${JBUI_ZoneTravel_SpireList}]:AddItem["Everfrost"]
                                        </OnLoad>
                                    </listbox>

                                    <CommandButton Name='SpireTravel_Button'>
                                        <X>710</X>
                                        <Y>60</Y>
                                        <Width>130</Width>
                                        <Height>25</Height>
                                        <Text>Travel via Spire</Text>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_ZoneTravel_UseSpire]
                                        </OnLeftClick>
                                    </CommandButton>

                                    <!-- Druid Ring Section -->
                                    <Text name='DruidTravel_Label'>
                                        <X>10</X>
                                        <Y>280</Y>
                                        <Width>200</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>14</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Druid Ring Travel</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </Text>

                                    <listbox name='Druid_Destination'>
                                        <X>10</X>
                                        <Y>305</Y>
                                        <Width>250</Width>
                                        <Height>200</Height>
                                        <OnLoad>
                                            declarevariable JBUI_ZoneTravel_DruidList int global ${This.ID}
                                            UIElement[${JBUI_ZoneTravel_DruidList}]:AddItem["Commonlands"]
                                            UIElement[${JBUI_ZoneTravel_DruidList}]:AddItem["Antonica"]
                                            UIElement[${JBUI_ZoneTravel_DruidList}]:AddItem["Thundering Steppes"]
                                            UIElement[${JBUI_ZoneTravel_DruidList}]:AddItem["Nektulos Forest"]
                                            UIElement[${JBUI_ZoneTravel_DruidList}]:AddItem["Butcherblock Mountains"]
                                        </OnLoad>
                                    </listbox>

                                    <CommandButton Name='DruidTravel_Button'>
                                        <X>270</X>
                                        <Y>305</Y>
                                        <Width>150</Width>
                                        <Height>25</Height>
                                        <Text>Travel via Druid Ring</Text>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_ZoneTravel_UseDruid]
                                        </OnLeftClick>
                                    </CommandButton>

                                    <!-- EverPorter Section -->
                                    <Text name='EverPorterTravel_Label'>
                                        <X>450</X>
                                        <Y>280</Y>
                                        <Width>250</Width>
                                        <Height>20</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>14</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text>Guild Hall EverPorter</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFFFFF00]
                                        </OnLoad>
                                    </Text>

                                    <listbox name='EverPorter_Destination'>
                                        <X>450</X>
                                        <Y>305</Y>
                                        <Width>250</Width>
                                        <Height>200</Height>
                                        <OnLoad>
                                            declarevariable JBUI_ZoneTravel_EverPorterList int global ${This.ID}
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Commonlands"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Antonica"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Freeport"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Qeynos"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Haven"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Kylong Plains"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Steamfont"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Moors of Ykesha"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Sundered Frontier"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Stonebrunt Highlands"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Great Divide"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Cobalt Scar"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Withered Lands"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Phantom Sea"]
                                            UIElement[${JBUI_ZoneTravel_EverPorterList}]:AddItem["Tranquil Sea"]
                                        </OnLoad>
                                    </listbox>

                                    <CommandButton Name='EverPorterTravel_Button'>
                                        <X>710</X>
                                        <Y>305</Y>
                                        <Width>160</Width>
                                        <Height>25</Height>
                                        <Text>Travel via EverPorter</Text>
                                        <OnLeftClick>
                                            Script[JB_UI_Simple]:ExecuteAtom[JBUI_ZoneTravel_UseEverPorter]
                                        </OnLeftClick>
                                    </CommandButton>

                                    <!-- Status/Info Text -->
                                    <Text name='ZoneTravel_Status'>
                                        <X>10</X>
                                        <Y>450</Y>
                                        <Width>860</Width>
                                        <Height>60</Height>
                                        <Alignment>Left</Alignment>
                                        <Font>
                                            <Size>14</Size>
                                            <Bold>1</Bold>
                                        </Font>
                                        <Text></Text>
                                        <OnLoad>
                                            declarevariable JBUI_ZoneTravel_Status int global ${This.ID}
                                            This.Font:SetColor[FFFFAA00]
                                        </OnLoad>
                                    </Text>
                                </Children>
                            </frame>

                        </Children>
                    </frame>

                    <!-- DEBUG MODE -->
                    <frame name='Debug_Frame'>
                        <X>0</X>
                        <Y>0</Y>
                        <Height>100%</Height>
                        <Width>100%</Width>
                        <Visible>0</Visible>
                        <Border>0</Border>
                        <OnLoad>
                            declarevariable JBUI_Debug_Frame int global ${This.ID}
                        </OnLoad>
                        <Children>
                            <Text name='Debug_Title'>
                                <X>10</X>
                                <Y>5</Y>
                                <Width>820</Width>
                                <Height>30</Height>
                                <Alignment>Left</Alignment>
                                <Font>
                                    <Bold>1</Bold>
                                    <Size>16</Size>
                                </Font>
                                <Text>Debug Options - Granular Control Over Verbose Output</Text>
                                <OnLoad>
                                    This.Font:SetColor[FFFF9933]
                                </OnLoad>
                            </Text>

                            <frame name='DebugOptions_Frame'>
                                <X>10</X>
                                <Y>50</Y>
                                <Height>500</Height>
                                <Width>820</Width>
                                <Visible>1</Visible>
                                <Border>2</Border>
                                <Children>
                                    <checkbox name='Debug_Waypoints_Checkbox'>
                                        <X>20</X>
                                        <Y>20</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Waypoint Parsing Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Waypoints:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Waypoint parsing debug ENABLED
                                            else
                                                echo [Debug] Waypoint parsing debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Waypoints bool global FALSE
                                            declarevariable JBUI_Debug_Waypoints_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_Navigation_Checkbox'>
                                        <X>20</X>
                                        <Y>55</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Navigation Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Navigation:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Navigation debug ENABLED
                                            else
                                                echo [Debug] Navigation debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Navigation bool global FALSE
                                            declarevariable JBUI_Debug_Navigation_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_Movement_Checkbox'>
                                        <X>20</X>
                                        <Y>90</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Movement Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Movement:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Movement debug ENABLED
                                            else
                                                echo [Debug] Movement debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Movement bool global FALSE
                                            declarevariable JBUI_Debug_Movement_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_Commands_Checkbox'>
                                        <X>20</X>
                                        <Y>125</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Commands Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Commands:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Commands debug ENABLED
                                            else
                                                echo [Debug] Commands debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Commands bool global FALSE
                                            declarevariable JBUI_Debug_Commands_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_Events_Checkbox'>
                                        <X>20</X>
                                        <Y>160</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Event System Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Events:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Event system debug ENABLED
                                            else
                                                echo [Debug] Event system debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Events bool global FALSE
                                            declarevariable JBUI_Debug_Events_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_Playback_Checkbox'>
                                        <X>20</X>
                                        <Y>195</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Playback Thread Debug</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_Playback:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Playback thread debug ENABLED
                                            else
                                                echo [Debug] Playback thread debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_Playback bool global FALSE
                                            declarevariable JBUI_Debug_Playback_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_System_Checkbox'>
                                        <X>20</X>
                                        <Y>230</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>System Startup Debug (Paths, Loading, Registry)</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_Debug_System:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] System startup debug ENABLED
                                            else
                                                echo [Debug] System startup debug DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_Debug_System bool global FALSE
                                            declarevariable JBUI_Debug_System_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_General_Checkbox'>
                                        <X>20</X>
                                        <Y>265</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>General Debug Output</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_DebugMode:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] General debug output ENABLED
                                            else
                                                echo [Debug] General debug output DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_DebugMode bool global FALSE
                                            declarevariable JBUI_Debug_General_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <checkbox name='Debug_ToOC_Checkbox'>
                                        <X>20</X>
                                        <Y>300</Y>
                                        <Width>20</Width>
                                        <Height>20</Height>
                                        <Text>Broadcast Debug to Group (oc)</Text>
                                        <Font>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            JBUI_DebugToOC:Set[${This.Checked}]
                                            if ${This.Checked}
                                                echo [Debug] Broadcasting to group (oc) ENABLED
                                            else
                                                echo [Debug] Broadcasting to group (oc) DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            declarevariable JBUI_DebugToOC bool global FALSE
                                            declarevariable JBUI_Debug_ToOC_Checkbox int global ${This.ID}
                                        </OnLoad>
                                    </checkbox>

                                    <!-- Master Debug Toggles -->
                                    <CommandButton Name="Debug_EnableAll_Button">
                                        <X>20</X>
                                        <Y>355</Y>
                                        <Width>200</Width>
                                        <Height>35</Height>
                                        <Text>Enable All Debug</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Debug_Waypoints_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_Navigation_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_Movement_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_Commands_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_Events_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_Playback_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_System_Checkbox}]:SetChecked
                                            UIElement[${JBUI_Debug_General_Checkbox}]:SetChecked
                                            JBUI_Debug_Waypoints:Set[TRUE]
                                            JBUI_Debug_Navigation:Set[TRUE]
                                            JBUI_Debug_Movement:Set[TRUE]
                                            JBUI_Debug_Commands:Set[TRUE]
                                            JBUI_Debug_Events:Set[TRUE]
                                            JBUI_Debug_Playback:Set[TRUE]
                                            JBUI_Debug_System:Set[TRUE]
                                            JBUI_DebugMode:Set[TRUE]
                                            echo [Debug] ALL debug options ENABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            UIElement[${This.ID}].Font:SetColor[FF00FF00]
                                        </OnLoad>
                                    </CommandButton>

                                    <CommandButton Name="Debug_DisableAll_Button">
                                        <X>230</X>
                                        <Y>355</Y>
                                        <Width>200</Width>
                                        <Height>35</Height>
                                        <Text>Disable All Debug</Text>
                                        <Font>
                                            <Bold>1</Bold>
                                            <Size>16</Size>
                                        </Font>
                                        <OnLeftClick>
                                            UIElement[${JBUI_Debug_Waypoints_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_Navigation_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_Movement_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_Commands_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_Events_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_Playback_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_System_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_General_Checkbox}]:UnsetChecked
                                            UIElement[${JBUI_Debug_ToOC_Checkbox}]:UnsetChecked
                                            JBUI_Debug_Waypoints:Set[FALSE]
                                            JBUI_Debug_Navigation:Set[FALSE]
                                            JBUI_Debug_Movement:Set[FALSE]
                                            JBUI_Debug_Commands:Set[FALSE]
                                            JBUI_Debug_Events:Set[FALSE]
                                            JBUI_Debug_Playback:Set[FALSE]
                                            JBUI_Debug_System:Set[FALSE]
                                            JBUI_DebugMode:Set[FALSE]
                                            JBUI_DebugToOC:Set[FALSE]
                                            echo [Debug] ALL debug options DISABLED
                                        </OnLeftClick>
                                        <OnLoad>
                                            UIElement[${This.ID}].Font:SetColor[FFFF0000]
                                        </OnLoad>
                                    </CommandButton>

                                    <Text name='Debug_Info'>
                                        <X>20</X>
                                        <Y>380</Y>
                                        <Width>780</Width>
                                        <Height>100</Height>
                                        <Alignment>Left</Alignment>
                                        <Wrap>1</Wrap>
                                        <Font>
                                            <Size>14</Size>
                                        </Font>
                                        <Text>Debug options control verbose output from different system components. Enable only the specific debug output you need. By default, all debug output is disabled for clean operation.</Text>
                                        <OnLoad>
                                            This.Font:SetColor[FFAAAAAA]
                                        </OnLoad>
                                    </Text>
                                </Children>
                            </frame>
                        </Children>
                    </frame>

                </Children>
            </frame>
        </Children>
    </Window>
</ISUI>
